webpackJsonp([1],{"+cgv":function(e,t){},"3f40":function(e,t){},"4qOc":function(e,t){},DecG:function(e,t){},I9uH:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("7+uW"),a=n("Xxa5"),i=n.n(a),r=n("exGp"),c=n.n(r),s=n("NYxO"),l={name:"App",methods:{loadFromServer:function(){var e=this;return c()(i.a.mark(function t(){var n,o,a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.get("/load");case 2:for(a in n=t.sent,(o=n.data).config)e.config[a]=o.config[a];console.log(o);case 6:case"end":return t.stop()}},t,e)}))()}},created:function(){this.loadFromServer()},computed:Object(s.b)({config:function(e){return e.config}})},u={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("el-container",[n("el-container",[n("el-aside",{attrs:{width:"200px"}},[n("el-menu",{attrs:{router:!0,"default-active":"/conf","default-openeds":["0"]}},[n("el-submenu",{attrs:{index:"0"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-location"}),e._v(" "),n("span",[e._v("系统设置")])]),e._v(" "),n("el-menu-item-group",[n("el-menu-item",{attrs:{index:"/conf"}},[e._v("邮件设置")]),e._v(" "),n("el-menu-item",{attrs:{index:"/template"}},[e._v("模板编辑")]),e._v(" "),n("el-menu-item",{attrs:{index:"/send"}},[e._v("邮件发送")]),e._v(" "),n("el-menu-item",{attrs:{index:"/batch"}},[e._v("批量发送")])],1)],2)],1)],1),e._v(" "),n("el-main",[n("router-view")],1)],1)],1)],1)},staticRenderFns:[]};var f=n("VU/8")(l,u,!1,function(e){n("I9uH")},null,null).exports,d=n("/ocq"),p={name:"MailSenderApp",data:function(){return{data:""}},methods:{},computed:Object(s.b)({config:function(e){return e.config}}),mounted:function(){this.data=this.config.template}},m={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("模板编辑")]),e._v(" "),n("div",[n("quill-editor",{attrs:{id:"editor"},model:{value:e.config.template,callback:function(t){e.$set(e.config,"template",t)},expression:"config.template"}})],1)])},staticRenderFns:[]};var v=n("VU/8")(p,m,!1,function(e){n("oQwL")},"data-v-c1b691fe",null).exports,g={name:"MailSenderApp",data:function(){return{}},methods:{loadAsText:function(e){var t=this,n=new FileReader;return n.readAsText(e,"UTF-8"),n.onload=function(e){t.config.file=e.currentTarget.result},!1}},computed:Object(s.b)({config:function(e){return e.config}})},h={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("邮件发送")]),e._v(" "),n("div",[n("div",{directives:[{name:"show",rawName:"v-show",value:e.config.file.length>0,expression:"config.file.length>0"}]},[n("el-input",{attrs:{rows:10,type:"textarea",placeholder:"请先选择一个csv文件",autosize:!1},model:{value:e.config.file,callback:function(t){e.$set(e.config,"file",t)},expression:"config.file"}})],1),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:0===e.config.file.length,expression:"config.file.length===0"}]},[n("el-upload",{ref:"upload",attrs:{limit:1,"before-upload":e.loadAsText,action:"test",drag:""}},[n("i",{staticClass:"el-icon-upload"}),e._v(" "),n("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),n("em",[e._v("点击上传")])])])],1),e._v(" "),e._m(0)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("p",{staticStyle:{"font-size":"small"}},[this._v("必须是逗号分隔的问卷，第一列必须是收件人邮箱，如果无@符号，则后面自动匹配@qq.com")])])}]};var _=n("VU/8")(g,h,!1,function(e){n("DecG")},null,null).exports,x={name:"MailSenderApp",data:function(){return{}},methods:{saveToServer:function(){var e=this;return c()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.post("/save",{config:e.config});case 2:t.sent,e.$message("保存完成！");case 4:case"end":return t.stop()}},t,e)}))()}},computed:Object(s.b)({config:function(e){return e.config}})},b={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("系统设置")]),e._v(" "),n("el-form",{attrs:{"label-width":"120px",model:e.config}},[n("el-form-item",{attrs:{label:"发件人"}},[n("el-input",{attrs:{placeholder:"请输入发件人邮箱地址"},model:{value:e.config.sender,callback:function(t){e.$set(e.config,"sender",t)},expression:"config.sender"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"发件人密码"}},[n("el-input",{attrs:{type:"password",placeholder:"请输入发件人邮箱密码"},model:{value:e.config.password,callback:function(t){e.$set(e.config,"password",t)},expression:"config.password"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"邮件主题"}},[n("el-input",{attrs:{placeholder:"请输入邮件主题"},model:{value:e.config.topic,callback:function(t){e.$set(e.config,"topic",t)},expression:"config.topic"}})],1),e._v(" "),n("div",[n("el-button",{attrs:{type:"primary"},on:{click:e.saveToServer}},[e._v("保存到服务端")])],1)],1)],1)},staticRenderFns:[]};var w=n("VU/8")(x,b,!1,function(e){n("xqIj")},null,null).exports,$={name:"Batch",data:function(){return{}},methods:{sendMail:function(){var e=this;return c()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.$confirm("是否确定发送").then(function(){var t=e.$axios.post("/send",{config:e.config});e.$message("发送完成！"),console.log(t.data)});case 1:case"end":return t.stop()}},t,e)}))()}},computed:Object(s.b)({config:function(e){return e.config}})},k={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("批量发送")]),e._v(" "),n("div",{staticStyle:{"text-align":"left"}},[n("el-form",{attrs:{"label-width":"120px","label-position":"left"}},[n("el-form-item",{attrs:{label:"发送人"}},[n("el-input",{attrs:{disabled:!0,placeholder:"请输入发件人邮箱地址"},model:{value:e.config.sender,callback:function(t){e.$set(e.config,"sender",t)},expression:"config.sender"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"密码"}},[n("el-input",{attrs:{disabled:!0,type:"password",placeholder:"请输入发件人邮箱密码"},model:{value:e.config.password,callback:function(t){e.$set(e.config,"password",t)},expression:"config.password"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"主题"}},[n("el-input",{attrs:{disabled:!0,placeholder:"请输入邮件主题"},model:{value:e.config.topic,callback:function(t){e.$set(e.config,"topic",t)},expression:"config.topic"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"内容"}},[n("div",{domProps:{innerHTML:e._s(e.config.template)}})])],1),e._v(" "),n("div",[n("el-button",{attrs:{type:"primary"},on:{click:e.sendMail}},[e._v("批量发送")])],1)],1)])},staticRenderFns:[]};var q=n("VU/8")($,k,!1,function(e){n("NuEY")},null,null).exports;o.default.use(d.a);var y=new d.a({routes:[{path:"/template",name:"/template",component:v},{path:"/send",name:"/send",component:_},{path:"/conf",name:"/conf",component:w},{path:"/",name:"/",component:w},{path:"/batch",name:"/batch",component:q}]}),j=n("G0J2"),F=n("zL8q"),S=n.n(F);o.default.use(s.a);var A=new s.a.Store({state:{config:{sender:"",password:"",topic:"",template:"",file:""}}}),E=n("//Fk"),O=n.n(E),R=n("mtWM"),T=null,M=n.n(R).a.create({baseURL:"/api",timeout:6e4});M.interceptors.request.use(function(e){return T=F.Loading.service({}),e},function(e){return T.close(),O.a.reject(e)}),M.interceptors.response.use(function(e){return T.close(),e},function(e){return T.close(),O.a.reject(e)});var N=M;n("3f40"),n("4qOc"),n("+cgv"),n("tvR6");o.default.use(S.a),o.default.component("quill-editor",j.quillEditor),o.default.config.productionTip=!1,o.default.prototype.$axios=N;new o.default({el:"#app",router:y,store:A,components:{App:f},template:"<App/>"})},NuEY:function(e,t){},oQwL:function(e,t){},tvR6:function(e,t){},xqIj:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.bd13d8ed599b4ec0692a.js.map